

# sync-and-cache

<!--
DO NOT EDIT THIS FILE MANUALLY!
This README was generated by running `make`
-->

Sync and cache test resources. This action will sync test resources from
different sources (e.g.Â S3) and cache them for later use. The cache key
is based on the hash of the test resources. For this action to work, the
Viash project config should contain a list of test resources to sync.

Supported storage types:

- `s3`: Syncs resources from an S3 bucket.
- Create a GitHub issue if you need support for other storage types.

Example:

``` yaml
info:
  test_resources:
    - type: s3
      path: s3://my-bucket/my-folder
      dest: my-folder
```

### Inputs

- `project_config`: - *optional*. Path to the project configuration
  file.
- `cache_key_prefix`: - *optional*. A prefix for the cache hash key.
  Prefix is also used for restoring stale cache if no cache hit occurred
  for key.

### Outputs

- `cache_key`: Caching key.
- `dest_paths`: Paths to the synced resources.

## Examples

``` yaml
name: Demo of sync-and-cache

on:
  push:
  pull_request:

jobs:
  demo:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Sync and cache test resources specified by the project config
        uses: viash-io/viash-actions/sync-and-cache
```
