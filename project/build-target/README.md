# build-target


<!--
DO NOT EDIT THIS FILE MANUALLY!
This README was generated by:
* running `quarto render project/build-target/README.qmd` to create `README.md`
-->

Builds a target directory using the viash ns build command.

### Inputs

- `github_token`: - *required*. GitHub token. If not specified, the
  default GITHUB_TOKEN will be used.
- `target_branch`: - *optional*. Branch to deploy to. If not specified,
  `build-${BRANCH_NAME}` will be used.
- `version`: - *optional*. Version name to use for the build. If not
  specified, `build-${BRANCH_NAME}` will be used.

### Outputs

- `target_branch`: The branch that the build was deployed to.
- `version`: The version that was used for the build.
- `docker_component_matrix`: Matrix of Docker components
- `component_matrix`: Matrix of components

## Examples

``` yaml
name: demo of build-target

on: 
  branch: main

jobs:
  build-target:
    runs-on: ubuntu-latest
    steps:
      - uses: viash-io/viash-actions/setup@v3

      - id: build_target
        uses: viash-io/viash-actions/build-target@v5

      - run: |
          # view target directory
          ls -l target/

          # do something with the output
          echo "${{steps.build_target.outputs.docker_component_matrix}}"
          echo "${{steps.build_target.outputs.component_matrix}}"
```
